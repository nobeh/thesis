
% Keep these in aL_Phabetical order
\usepackage{algorithm}
% \usepackage{algorithmic}
\usepackage{alltt}
\usepackage{algpseudocode}
\usepackage{amsfonts}
\usepackage{amsmath}
\let\proof\relax
\let\endproof\relax
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{booktabs}
\usepackage{caption}
% \DeclareCaptionType{copyrightbox}
\usepackage[usenames,dvipsnames]{color}
\usepackage{colortbl}
% \usepackage[Sonny]{fncychap}
\usepackage{framed}
\usepackage{graphics}
\usepackage[pdftex]{graphicx}
% should be after graphics
\usepackage{enumitem}
\usepackage{epstopdf}
\usepackage[gen]{eurosym}
\usepackage{footnote}
\makesavenoteenv{tabular}
\makesavenoteenv{table}
\usepackage[bookmarks=true, colorlinks=true, linkcolor=black, citecolor=black, urlcolor=black, bookmarksdepth=2]{hyperref}
\usepackage{import}
\usepackage{listing}
\usepackage{listings}
\usepackage{makeidx}
\usepackage{mathtools}
\usepackage{minted}
\usepackage{multicol}
\usepackage{pgf}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\usepackage{pifont}
% \usepackage{sectsty}
\usepackage{setspace}
\usepackage{soul}
\usepackage{subcaption}
\usepackage{tikz}
\usetikzlibrary{arrows,automata}
\usepackage{titlesec}
\usepackage{tocloft}
\usepackage{url}
\usepackage{wrapfig}
\usepackage{xcolor}
\usepackage{xspace}

\usepackage{amssymb,amsmath,amsthm, mathtools}

% Palatino fonts: comment out the following if they do not work for you.
% \usepackage{mathpazo}
% \usepackage{eulervm}

% NOTE: These are fancy fonts for code listings. They are enabled when submmitting the paper.
\usepackage[T1]{fontenc}
% \usepackage{textcomp}
% \usepackage{inconsolata}

% \usepackage[lighttt]{lmodern}

% Main Font
\usepackage[bitstream-charter]{mathdesign}
% \usepackage[libertine,cmintegrals,cmbraces,vvarbb]{newtxmath}
% \usepackage{libertine}
% \usepackage{newtxtext,newtxmath}

% TT Font
\usepackage{luximono}
% \usepackage{beramono}

% For references
% \usepackage[english]{babel} 

\lstset{
         basicstyle=\scriptsize\ttfamily,
         numbers=left,
         numberstyle=\scriptsize,
         %stepnumber=2,
         numbersep=5pt,
         tabsize=2,
         extendedchars=true,
         breaklines=true,
         frame=b,
         showspaces=false,
         showtabs=false,
         xleftmargin=17pt,
         xrightmargin=6pt,
         framexleftmargin=17pt,
         framexrightmargin=5pt,
         framexbottommargin=4pt,
         showstringspaces=false
         keywordstyle=\color[rgb]{0,0,1},
         commentstyle=\color[rgb]{0.133,0.545,0.133},
         stringstyle=\color[rgb]{0.627,0.126,0.941},
         numberbychapter=false,
}
\lstdefinelanguage{abs}{keywords=
{dyndelta,new,data,type,def,case,of,cog,class,interface,extends,implements,if,else,await,get,Fut,return,skip,while,module, import, export, from, suspend, delta,adds,modifies,removes,original,productline,features,core,corefeatures,optionalfeatures,after,when,product,hasAttribute,hasMethod,root,extension,group,allof,oneof,require,exclude,original,ifin,ifout,opt}, sensitive=true, comment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]"}

\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox[RGB]{128,128,128}{\parbox{.97\linewidth}{#1#2#3}}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={sf,footnotesize}}
\lstdefinelanguage{Creol}{
  morekeywords={class,extends, implements, interface, false,for,if, then, else, priority,
    new,null,return,this,true,var,while,with,yield,begin,end,await,op, scheduling, policy,
	sender,foreach,empty,in,skip,random,def,try,catch,do,deadline,get,super,boolean,scheduler},
  otherkeywords={==}, %=>,<-,<\%,<:,>:,\#,@,:=},
  sensitive=true,
  morecomment=[l]{//},
  morecomment=[n]{/*}{*/},
  morestring=[b]",
  morestring=[b]',
  morestring=[b]""",
  literate={/=}{{$\not =$}}1
}

% Commands
\newcommand{\Crisp}{{$\mathcal{C}$risp}\xspace}
\newcommand{\MethodInvocation}{{\ftt{Meth\-od\-In\-vo\-ca\-tion}}\xspace}
\newcommand{\thickhline}{\noalign{\hrule height 1.0pt}}
\newcommand{\superscript}[1]{\ensuremath{^{\textrm{#1}}}}
\newcommand{\subscript}[1]{\ensuremath{_{\textrm{#1}}}}
\newcommand{\ftt}[1]{{\footnotesize\texttt{#1}}}
\newcommand{\jtt}[1]{{\scriptsize\texttt{#1}}}
\newcommand{\bfjtt}[1]{\textbf{\scriptsize\texttt{#1}}}
\newcommand{\textsfb}[1]{\textbf{\textsf{#1}}}
\newcommand{\parbf}[1]{\noindent\parskip2pt\newline\textbf{#1}}
\newcommand{\surl}[1]{{\footnotesize\url{#1}}}
\newcommand{\this}{\mbox{\rm this}}
\newcommand{\Var}{\mbox{\it Var}}
\newcommand{\Val}{\mbox{\it Val}}
\newcommand{\ESA}{\jtt{Executor\-Service\-Actor} } 
\newcommand{\qps}{\textsf{QPS}\xspace}
\newcommand{\frhcsp}{Fredhopper Cloud Services\xspace}

% 2013 paper
\newcommand{\gett}{{\textnormal{\textbf{\jtt{get}}}}}
\newcommand{\trycatch}[4]{\jtt{try}\{ #1 \}\jtt{catch}(\jtt{#2} \; #3)\{#4\}}

% LLNCS
\newcommand{\keywords}[1]{\par\addvspace\baselineskip\noindent\keywordname\enspace\ignorespaces#1}

\newcommand{\Behrooz}[1]{{\color{blue}{\sffamily Behrooz: \textit{#1}\newline}}}

\theoremstyle{definition}
\newtheorem{assm}{Assumption}
\newtheorem{defn}{Definition}
\newtheorem{thm}{Theorem}
\newtheorem{rul}{Rule}
\newtheorem{exmp}{Example}
\newtheorem{corl}{Corollary}

%%% Thesis customization

% Numeric numbers in TOC
\renewcommand{\thesection}{\arabic{section}}

% Style the chapter title
% \titleformat{command}[shapre]{format}{label}{sep}{before-code}{after-code}
\titleformat{\chapter}[display]
  {\bfseries\Large}
  {\filleft\MakeUppercase{\chaptertitlename} \Huge\thechapter}
  {4ex}
  {\vspace{2ex}%
   \filright}
  [\vspace{2ex}]
% Chapter Authors
\makeatletter
\newcommand{\chapterauthor}[1]{%
  {\parindent0pt\vspace*{-25pt}%
  \linespread{1.1}\slshape#1%
  \par\nobreak\vspace*{35pt}}
  \@afterheading%
}
\makeatother

%%% Table of Contents
\renewcommand*{\contentsname}{Table of Contents}
\setsecnumdepth{section}
\settocdepth{section}
\usepackage{titletoc}

%%% Chapters
